{"version":3,"file":"index.m.js","sources":["index.js"],"sourcesContent":["Object.defineProperty(exports,\"__esModule\",{value:!0});var e=Object.assign||function(e){for(var t=arguments,n=1;n<arguments.length;n++){var i=t[n];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=require(\"react\");var i=function(i){function r(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,r);var t=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return t.state={noClamp:!1,text:\".\"},t.element=null,t.original=e.text,t.lineHeight=0,t.start=0,t.middle=0,t.end=0,t.debounced=t.debounce(t.action),t}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,n.Component),t(r,[{key:\"componentDidMount\",value:function(){window.addEventListener(\"resize\",this.debounced),this.props.text&&(this.lineHeight=this.element.clientHeight+1,this.clampLines())}},{key:\"componentWillUnmount\",value:function(){window.removeEventListener(\"resize\",this.debounced)}},{key:\"debounce\",value:function(e){var t=this,n=void 0,i=function(){n=null,e.apply(t)};return function(){var r=!n;clearTimeout(n),n=setTimeout(i,t.props.debounce),r&&e.apply(t)}}},{key:\"action\",value:function(){this.setState({noClamp:!1},this.clampLines)}},{key:\"clampLines\",value:function(){var e=this,t=this.props,n=t.ellipsis,i=this.lineHeight*t.lines+1,o=n===r.defaultProps.ellipsis?5:1.2*n.length;for(this.start=0,this.middle=0,this.end=this.original.length-o;this.start<=this.end;){if(this.middle=Math.floor((this.start+this.end)/2),this.element.innerText=this.original.slice(0,this.middle),this.middle===this.original.length)return void this.setState({text:this.original,noClamp:!0});this.moveMarkers(i)}var s=this.original.slice(0,this.middle-o).trim()+n;this.setState({text:s},function(){e.element.innerText=e.state.text})}},{key:\"moveMarkers\",value:function(e){this.element.clientHeight<=e?this.start=this.middle+1:this.end=this.middle-1}},{key:\"render\",value:function(){var t=this,i=this.state.text,r=this.props,o=r.is,s=r.text,l=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(r,[\"is\",\"text\",\"lines\",\"debounce\",\"ellipsis\"]),a=e({ref:function(e){return t.element=e}},l);return s?(0,n.createElement)(o,a,i):null}}]),r}();i.defaultProps={is:\"div\",lines:3,ellipsis:\"â€¦\",debounce:300},exports.default=i;\n//# sourceMappingURL=index.js.map\n"],"names":["Object","defineProperty","exports","value","e","assign","t","arguments","n","length","i","r","prototype","hasOwnProperty","call","enumerable","configurable","writable","key","require","TypeError","this","ReferenceError","__proto__","getPrototypeOf","state","noClamp","text","element","original","lineHeight","start","middle","end","debounced","debounce","action","create","constructor","setPrototypeOf","Component","window","addEventListener","props","clientHeight","clampLines","removeEventListener","apply","clearTimeout","setTimeout","setState","ellipsis","lines","o","defaultProps","Math","floor","innerText","slice","moveMarkers","s","trim","is","l","indexOf","a","ref","createElement","default"],"mappings":"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"}